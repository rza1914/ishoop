# ساخت فروشگاه آیشاپ - پلتفرم خرید از دبی 🇦🇪 و ارسال به ایران 🇮🇷

## مشخصات پروژه
**نام:** آیـشــــــــــــــــــاپ (#آیـشــــــــــــــــــاپ)  
**هدف:** فروشگاه آنلاین برای خرید محصولات از #دبــــــــــــی و ارسال به تمام نقاط #ایران  
**پلتفرم:** Replit (Full-Stack Application)

---

## Technology Stack

### Frontend
- **React.js** با TypeScript
- **Tailwind CSS** برای styling
- **Lucide React** برای آیکون‌ها
- **React Router** برای navigation
- **Context API** برای state management

### Backend
- **FastAPI** با Python
- **SQLAlchemy** + **PostgreSQL** برای database
- **JWT** برای authentication
- **Python-multipart** برای upload فایل‌ها
- **FastMail** برای ارسال ایمیل
- **Pydantic** برای validation

### External APIs
- **Google OAuth** برای ثبت‌نام با گوگل
- **Telegram Bot API** برای OTP و ایمپورت محصولات
- **Payment Gateway** (ZarinPal یا بانک ملت)

---

## ویژگی‌های اساسی ضروری

### 🔐 سیستم احراز هویت
```javascript
// دو روش ثبت‌نام:
1. Google OAuth
2. OTP تلگرام
```

### 👤 پنل کاربر
- مشاهده سفارشات
- ویرایش پروفایل
- تاریخچه خریدها
- آدرس‌های ارسال
- وضعیت سفارشات

### 🛍 سبد خرید
- افزودن/حذف محصولات
- تغییر تعداد
- محاسبه هزینه ارسال
- کد تخفیف
- ذخیره سبد برای بعداً

### 🛒 صفحه چک اوت
- انتخاب آدرس ارسال
- روش پرداخت
- محاسبه نهایی قیمت
- تأیید سفارش

### 📱 محصولات و جزئیات
- نمایش محصولات با فیلتر
- صفحه جزئیات کامل
- گالری تصاویر
- نظرات کاربران
- محصولات مشابه

---

## ویژگی‌های مدیریتی

### 🔧 پنل ادمین (دسترسی محدود)
```javascript
// محدودیت‌های امنیتی:
- فقط با ایمیل‌های مشخص شده
- نمی‌تون از سایت عمومی ثبت‌نام کرد
- نیاز به تأیید دستی سوپرادمین
```

**قابلیت‌های پنل ادمین:**
- مدیریت محصولات (CRUD)
- مدیریت سفارشات
- مدیریت کاربران
- آمار و گزارشات
- تنظیمات سایت

### 🤖 بات تلگرام ایمپورت
```javascript
// قابلیت‌های بات:
- ایمپورت مستقیم محصولات
- دریافت تصاویر و مشخصات
- تنظیم قیمت و موجودی
- اطلاع‌رسانی سفارشات جدید
```

---

## ساختار فایل‌ها در Replit

```
ishop-replit/
├── frontend/
│   ├── public/
│   │   ├── index.html
│   │   └── favicon.ico
│   ├── src/
│   │   ├── components/
│   │   │   ├── common/
│   │   │   │   ├── Header.tsx
│   │   │   │   ├── Footer.tsx
│   │   │   │   └── Loading.tsx
│   │   │   ├── auth/
│   │   │   │   ├── Login.tsx
│   │   │   │   ├── GoogleAuth.tsx
│   │   │   │   └── TelegramOTP.tsx
│   │   │   ├── shop/
│   │   │   │   ├── ProductList.tsx
│   │   │   │   ├── ProductDetail.tsx
│   │   │   │   ├── Cart.tsx
│   │   │   │   └── Checkout.tsx
│   │   │   ├── user/
│   │   │   │   ├── Dashboard.tsx
│   │   │   │   ├── Orders.tsx
│   │   │   │   └── Profile.tsx
│   │   │   └── admin/
│   │   │       ├── AdminDashboard.tsx
│   │   │       ├── ProductManager.tsx
│   │   │       ├── OrderManager.tsx
│   │   │       └── UserManager.tsx
│   │   ├── context/
│   │   │   ├── AuthContext.tsx
│   │   │   └── CartContext.tsx
│   │   ├── pages/
│   │   │   ├── Home.tsx
│   │   │   ├── Shop.tsx
│   │   │   └── About.tsx
│   │   ├── utils/
│   │   │   ├── api.ts
│   │   │   └── helpers.ts
│   │   └── App.tsx
│   ├── package.json
│   └── tailwind.config.js
├── backend/
│   ├── app/
│   │   ├── __init__.py
│   │   ├── main.py
│   │   ├── config.py
│   │   ├── database.py
│   │   ├── models/
│   │   │   ├── __init__.py
│   │   │   ├── user.py
│   │   │   ├── product.py
│   │   │   ├── order.py
│   │   │   └── cart.py
│   │   ├── schemas/
│   │   │   ├── __init__.py
│   │   │   ├── user.py
│   │   │   ├── product.py
│   │   │   ├── order.py
│   │   │   └── cart.py
│   │   ├── routers/
│   │   │   ├── __init__.py
│   │   │   ├── auth.py
│   │   │   ├── products.py
│   │   │   ├── orders.py
│   │   │   └── admin.py
│   │   ├── services/
│   │   │   ├── __init__.py
│   │   │   ├── auth_service.py
│   │   │   ├── product_service.py
│   │   │   ├── telegram_bot.py
│   │   │   ├── google_auth.py
│   │   │   └── payment_service.py
│   │   ├── middleware/
│   │   │   ├── __init__.py
│   │   │   ├── auth.py
│   │   │   └── admin_auth.py
│   │   └── utils/
│   │       ├── __init__.py
│   │       ├── security.py
│   │       └── helpers.py
│   ├── requirements.txt
│   └── alembic/
│       ├── env.py
│       └── versions/
├── telegram-bot/
│   ├── bot.py
│   ├── config.py
│   ├── commands/
│   │   ├── __init__.py
│   │   ├── import_products.py
│   │   └── notifications.py
│   ├── handlers/
│   │   ├── __init__.py
│   │   ├── product_handler.py
│   │   └── order_handler.py
│   └── requirements.txt
├── .env
├── package.json
└── replit.nix
```

---

## امنیت و محدودیت‌های ادمین

### 🛡 تنظیمات امنیتی
```python
# محدودیت دسترسی ادمین
ADMIN_EMAILS = [
    'admin@ishop.com',
    'manager@ishop.com'
]

# چک کردن دسترسی ادمین
from fastapi import HTTPException, Depends
from app.middleware.auth import get_current_user

def admin_required(current_user = Depends(get_current_user)):
    if current_user.email not in ADMIN_EMAILS:
        raise HTTPException(
            status_code=403, 
            detail="دسترسی غیرمجاز - فقط ادمین‌های تأیید شده"
        )
    return current_user
```

---

## UI/UX Design Specifications

### 🎨 طراحی
- **رنگ‌بندی:** آبی، طلایی (تم دبی)
- **فونت:** فارسی: Vazir، انگلیسی: Inter
- **طراحی:** مدرن، کلین، موبایل فرست
- **انیمیشن:** Smooth transitions

### 📱 Responsive Design
- Mobile: 320px - 768px
- Tablet: 768px - 1024px  
- Desktop: 1024px+

---

## ویژگی‌های خاص آیشاپ

### 🌟 صفحه اصلی
```html
<!-- Hero Section -->
<section class="hero">
  <h1>آیـشــــــــــــــــــاپ</h1>
  <p>هر چی دلت بخاد رو با قیمت مناسب از #دبــــــــــــی خرید کن</p>
  <p>هر جا #ایران هستی تحویل بگیر 🛍</p>
</section>
```

### 🚚 محاسبه هزینه ارسال
- ارسال رایگان بالای مبلغ مشخص
- محاسبه بر اساس وزن و حجم
- زمان تحویل: 7-14 روز کاری

### 💳 پرداخت
- زرین‌پال
- درگاه بانک‌های ایرانی
- پرداخت در محل (COD)

---

## Environment Variables (.env)
```env
# Database
DATABASE_URL=your_database_url
MONGODB_URI=your_mongodb_uri

# JWT
JWT_SECRET=your_jwt_secret
JWT_EXPIRE=30d

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Telegram Bot
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_chat_id

# Payment
ZARINPAL_MERCHANT_ID=your_merchant_id

# Admin Settings
ADMIN_EMAILS=admin1@email.com,admin2@email.com
SUPER_ADMIN_EMAIL=superadmin@email.com

# Email Service
EMAIL_SERVICE=gmail
EMAIL_USER=your_email
EMAIL_PASS=your_password
```

---

## Commands برای اجرا در Replit

### Setup
```bash
# Backend
cd backend && pip install -r requirements.txt

# Frontend  
cd frontend && npm install

# Bot
cd telegram-bot && pip install -r requirements.txt
```

### Development
```bash
# Run all services
npm run dev

# Individual services
npm run backend    # uvicorn app.main:app --reload
npm run frontend   # npm start
npm run bot        # python bot.py
```

---

## Package.json اصلی
```json
{
  "name": "ishop-dubai-iran",
  "version": "1.0.0",
  "description": "فروشگاه آیشاپ - خرید از دبی، ارسال به ایران",
  "scripts": {
    "dev": "concurrently \"npm run backend\" \"npm run frontend\" \"npm run bot\"",
    "backend": "cd backend && uvicorn app.main:app --reload --host 0.0.0.0 --port 8000",
    "frontend": "cd frontend && npm start",
    "bot": "cd telegram-bot && python bot.py",
    "build": "cd frontend && npm run build",
    "start": "cd backend && uvicorn app.main:app --host 0.0.0.0 --port 8000"
  },
  "dependencies": {
    "concurrently": "^7.6.0"
  }
}
```

---

## Requirements.txt برای Backend
```txt
fastapi==0.104.1
uvicorn[standard]==0.24.0
sqlalchemy==2.0.23
psycopg2-binary==2.9.7
alembic==1.13.0
pydantic==2.5.0
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-multipart==0.0.6
fastapi-mail==1.4.1
python-telegram-bot==20.7
httpx==0.25.2
python-dotenv==1.0.0
Pillow==10.1.0
```

---

## 🎯 اهداف نهایی
1. **کاربر:** تجربه خرید آسان از دبی
2. **ادمین:** مدیریت کامل فروشگاه
3. **امنیت:** محافظت از داده‌ها و محدودیت دسترسی
4. **Performance:** سرعت بالا و UX عالی
5. **Scalability:** قابلیت گسترش برای آینده

این فروشگاه باید آماده پردازش هزاران سفارش روزانه و ارائه بهترین تجربه خرید آنلاین از دبی برای مشتریان ایرانی باشد! 🚀